{"mode":"full","files":[{"path":"README.md","content":"# Task Manager\n\nThis is a simple task manager CLI application built using TypeScript and Node.js.\n\n## Usage\n\n### Add a new task\n```sh\ntask add \"Buy milk\" --data ./tasks.json\n```\n\n### List all tasks\n```sh\ntask list --data ./tasks.json\n```\n\n### Mark a task as done\n```sh\ntask done <task_id> --data ./tasks.json\n```\n\n### Remove a task\n```sh\ntask remove <task_id> --data ./tasks.json\n```\n"},{"path":"package.json","content":"{\n  \"name\": \"task-manager\",\n  \"version\": \"1.0.0\",\n  \"description\": \"A simple task manager CLI application\",\n  \"main\": \"./dist/cli.js\",\n  \"scripts\": {\n    \"start\": \"tsc && node dist/cli.js\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"typescript\": \"^4.7.4\"\n  }\n}"},{"path":"tsconfig.json","content":"{\n  \"compilerOptions\": {\n    \"target\": \"ES6\",\n    \"module\": \"CommonJS\",\n    \"outDir\": \"./dist\",\n    \"strict\": true,\n    \"esModuleInterop\": true\n  },\n  \"include\": [\n    \"src/**/*.ts\"\n  ]\n}"},{"path":"src/store.ts","content":"declare const require: any;\ndeclare const process: any;\nimport { TaskStore } from \"./store\";\nconst fs = require(\"node:fs\");\n\nexport class TaskStore {\n  filePath: string;\n  tasks: Task[];\n\n  constructor(filePath: string) {\n    this.filePath = filePath;\n    if (!fs.existsSync(filePath)) {\n      fs.writeFileSync(filePath, JSON.stringify({ tasks: [] }));\n    }\n    const data = fs.readFileSync(filePath, \"utf8\");\n    this.tasks = JSON.parse(data).tasks;\n  }\n\n  list(): Task[] {\n    return this.tasks;\n  }\n\n  add(title: string): Task {\n    const task: Task = { id: crypto.randomUUID(), title, done: false, createdAt: new Date().toISOString() };\n    this.tasks.push(task);\n    fs.writeFileSync(this.filePath, JSON.stringify({ tasks: this.tasks }));\n    return task;\n  }\n\n  done(id: string): Task {\n    const task = this.tasks.find(t => t.id === id);\n    if (task) {\n      task.done = true;\n      task.doneAt = new Date().toISOString();\n      fs.writeFileSync(this.filePath, JSON.stringify({ tasks: this.tasks }));\n    }\n    return task;\n  }\n\n  remove(id: string): Task {\n    const index = this.tasks.findIndex(t => t.id === id);\n    if (index !== -1) {\n      const removedTask = this.tasks[index];\n      this.tasks.splice(index, 1);\n      fs.writeFileSync(this.filePath, JSON.stringify({ tasks: this.tasks }));\n      return removedTask;\n    }\n    return null;\n  }\n}\n"},{"path":"src/cli.ts","content":"./node_modules/.bin/tsc\nimport { TaskStore } from \"./store\";\nimport * as yargs from \"yargs\";\n\nconst argv = yargs\n  .usage(\"Usage: task [command] <task> [options]\") // tslint:disable-line:no-unused-expression\n  .command({\n    'add': {\n      describe: 'Add a new task',\n      builder(yargs) { return yargs.positional('title', { type: 'string', demandOption: true }); },\n      handler(argv) { const store = new TaskStore(argv['data']); console.log(JSON.stringify({ ok: true, task: store.add(argv['title']) })); }\n    },\n    'list': {\n      describe: 'List all tasks',\n      builder(yargs) { return yargs.option('data', { alias: 'd', type: 'string', demandOption: true }); },\n      handler(argv) { const store = new TaskStore(argv['data']); console.log(JSON.stringify({ ok: true, tasks: store.list() })); }\n    },\n    'done': {\n      describe: 'Mark a task as done',\n      builder(yargs) { return yargs.positional('id', { type: 'string', demandOption: true }).option('data', { alias: 'd', type: 'string', demandOption: true }); },\n      handler(