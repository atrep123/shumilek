{
  "model": "qwen2.5-coder:14b",
  "created_at": "2026-02-23T10:10:05.5463978Z",
  "message": {
    "role": "assistant",
    "content": "{\n  \"files\": [\n    {\n      \"path\": \"README.md\",\n      \"content\": \"# Task Manager CLI\\n\\n## Usage\\n\\n### Add a task\\n```bash\\nnode dist/cli.js add \\\"Buy milk\\\" --data tasks.json\\n```\\n\\n### List all tasks\\n```bash\\nnode dist/cli.js list --data tasks.json\\n```\\n\\n### Mark a task as done\\n```bash\\nnode dist/cli.js done <id> --data tasks.json\\n```\\n\\n### Remove a task\\n```bash\\nnode dist/cli.js remove <id> --data tasks.json\\n```\\n\"\n    },\n    {\n      \"path\": \"package.json\",\n      \"content\": \"{\\n  \\\"name\\\": \\\"task-manager\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"main\\\": \\\"dist/cli.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"build\\\": \\\"tsc -p tsconfig.json\\\"\\n  }\\n}\"\n    },\n    {\n      \"path\": \"tsconfig.json\",\n      \"content\": \"{\\n  \\\"compilerOptions\\\": {\\n    \\\"target\\\": \\\"ES6\\\",\\n    \\\"module\\\": \\\"commonjs\\\",\\n    \\\"outDir\\\": \\\"dist\\\",\\n    \\\"strict\\\": true,\\n    \\\"esModuleInterop\\\": true\\n  },\\n  \\\"include\\\": [\\n    \\\"src/**/*\\\"\\n  ]\\n}\"\n    },\n    {\n      \"path\": \"src/store.ts\",\n      \"content\": \"import { readFileSync, writeFileSync } from 'fs';\\nimport { randomUUID } from 'crypto';\\n\\ninterface Task {\\n  id: string;\\n  title: string;\\n  done: boolean;\\n  createdAt: string;\\n  doneAt?: string;\\n}\\n\\nclass TaskStore {\\n  private filePath: string;\\n\\n  constructor(filePath: string) {\\n    this.filePath = filePath;\\n  }\\n\\n  private readTasks(): Task[] {\\n    try {\\n      const data = readFileSync(this.filePath, 'utf-8');\\n      return JSON.parse(data);\\n    } catch (error: any) {\\n      if (error.code === 'ENOENT') {\\n        return [];\\n      }\\n      throw error;\\n    }\\n  }\\n\\n  private writeTasks(tasks: Task[]): void {\\n    writeFileSync(this.filePath, JSON.stringify(tasks, null, 2));\\n  }\\n\\n  list(): Task[] {\\n    return this.readTasks();\\n  }\\n\\n  add(title: string): Task {\\n    const task: Task = {\\n      id: randomUUID(),\\n      title,\\n      done: false,\\n      createdAt: new Date().toISOString()\\n    };\\n    const tasks = this.readTasks();\\n    tasks.push(task);\\n    this.writeTasks(tasks);\\n    return task;\\n  }\\n\\n  done(id: string): Task {\\n    let tasks = this.readTasks();\\n    const taskIndex = tasks.findIndex(t => t.id === id);\\n    if (taskIndex !== -1) {\\n      tasks[taskIndex].done = true;\\n      tasks[taskIndex].doneAt = new Date().toISOString();\\n      this.writeTasks(tasks);\\n      return tasks[taskIndex];\\n    }\\n    throw new Error('Task not found');\\n  }\\n\\n  remove(id: string): Task {\\n    let tasks = this.readTasks();\\n    const taskIndex = tasks.findIndex(t => t.id === id);\\n    if (taskIndex !== -1) {\\n      const removedTask = tasks.splice(taskIndex, 1)[0];\\n      this.writeTasks(tasks);\\n      return removedTask;\\n    }\\n    throw new Error('Task not found');\\n  }\\n}\\n\\nexport { TaskStore };\\n\"\n    },\n    {\n      \"path\": \"src/cli.ts\",\n      \"content\": \"declare const require: any;\\ndeclare const process: any;\\nconst fs = require('node:fs');\\nconst path = require('node:path');\\nimport { TaskStore } from './store';\\n\\nfunction parseArgs(argv: string[]): { cmd: string, args: string[], options: Record<string, string> } {\\n  const args: string[] = [];\\n  const options: Record<string, string> = {};\\n  let currentOption = null;\\n\\n  for (const arg of argv) {\\n    if (arg.startsWith('--')) {\\n      if (currentOption !== null) {\\n        options[currentOption] = '';\\n      }\\n      currentOption = arg.slice(2);\\n    } else if (currentOption !== null) {\\n      options[currentOption] = arg;\\n      currentOption = null;\\n    } else {\\n      args.push(arg);\\n    }\\n  }\\n\\n  return { cmd: args[0], args: args.slice(1), options };\\n}\\n\\nfunction help() {\\n  console.log(`\\nUsage:\\n  node dist/cli.js add <title> --data <path>\\n  node dist/cli.js list --data <path>\\n  node dist/cli.js done <id> --data <path>\\n  node dist/cli.js remove <id> --data <path>\\n`);\\n  process.exit(0);\\n}\\n\\nasync function main() {\\n  const { cmd, args, options } = parseArgs(process.argv.slice(2));\\n\\n  if (cmd === '--help') {\\n    help();\\n  }\\n\\n  if (!options.data) {\\n    console.error('Missing --data option');\\n    process.exit(1);\\n  }\\n\\n  const store = new TaskStore(options.data);\\n\\n  try {\\n    switch (cmd) {\\n      case 'list':\\n        const tasks = store.list();\\n        console.log(JSON.stringify({ ok: true, tasks }));\\n        break;\\n      case 'add':\\n        if (!args[0]) {\\n          throw new Error('Missing title');\\n        }\\n        const addedTask = store.add(args[0]);\\n        console.log(JSON.stringify({ ok: true, task: addedTask }));\\n        break;\\n      case 'done':\\n        if (!args[0]) {\\n          throw new Error('Missing id');\\n        }\\n        const doneTask = store.done(args[0]);\\n        console.log(JSON.stringify({ ok: true, task: doneTask }));\\n        break;\\n      case 'remove':\\n        if (!args[0]) {\\n          throw new Error('Missing id');\\n        }\\n        const removedTask = store.remove(args[0]);\\n        console.log(JSON.stringify({ ok: true, task: removedTask }));\\n        break;\\n      default:\\n        help();\\n    }\\n  } catch (error: any) {\\n    console.error(JSON.stringify({ ok: false, error: error.message }));\\n    process.exit(1);\\n  }\\n}\\n\\nmain();\"\n    }\n  ],\n  \"mode\": \"full\",\n  \"notes\": \"This is the initial implementation of a task manager CLI in TypeScript. It includes the necessary files and configurations to meet the requirements specified.\"\n}"
  },
  "done": true,
  "done_reason": "stop",
  "total_duration": 53215973600,
  "load_duration": 3409863700,
  "prompt_eval_count": 2364,
  "prompt_eval_duration": 556443600,
  "eval_count": 1580,
  "eval_duration": 19519159500
}