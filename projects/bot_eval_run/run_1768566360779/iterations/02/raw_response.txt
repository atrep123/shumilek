{
  "mode": "patch",
  "files": [
    {
      "path": "README.md",
      "content": "# Simple TypeScript ToDo CLI\nThis project provides a simple CLI tool for managing tasks. It uses TypeScript and Node.js built-in modules.\n\n## Usage\n- List tasks: `cli list --data <path>`\n- Add task: `cli add <title> --data <path>`\n- Mark task as done: `cli done <id> --data <path>`\n- Remove task: `cli remove <id> --data <path>`\n"
    },
    {
      "path": "src/cli.ts",
      "content": "declare const require: any;\ndeclare const process: any;\n\nconst fs = require(\"node:fs\");\nconst path = require(\"node:path\");\n\nimport { TaskStore } from \"./store\";\n\ninterface CliCommand {\n  command: string;\n  handler: (args: string[]) => void;\n}\n\nconst commands: CliCommand[] = [\n  {\n    command: 'list',\n    handler: args => {\n      const dataPathArg = args.find(arg => arg.startsWith('--data='));\n      if (!dataPathArg) return console.error('Missing --data argument');\n      const dataPath = dataPathArg.slice(7);\n      const store = new TaskStore(dataPath);\n      console.log(JSON.stringify({ ok: true, tasks: store.list() }));\n    }\n  },\n  {\n    command: 'add',\n    handler: args => {\n      const titleIndex = args.indexOf('add') + 1;\n      const dataPathArg = args.find(arg => arg.startsWith('--data='));\n      if (!dataPathArg || titleIndex >= args.length) return console.error('Missing --data or title argument');\n      const title = args[titleIndex];\n      const dataPath = dataPathArg.slice(7);\n      const store = new TaskStore(dataPath);\n      console.log(JSON.stringify({ ok: true, task: store.add(title) }));\n    }\n  },\n  {\n    command: 'done',\n    handler: args => {\n      const idIndex = args.indexOf('done') + 1;\n      const dataPathArg = args.find(arg => arg.startsWith('--data='));\n      if (!dataPathArg || idIndex >= args.length) return console.error('Missing --data or id argument');\n      const id = args[idIndex];\n      const dataPath = dataPathArg.slice(7);\n      const store = new TaskStore(dataPath);\n      console.log(JSON.stringify({ ok: true, task: store.done(id) }));\n    }\n  },\n  {\n    command: 'remove',\n    handler: args => {\n      const idIndex = args.indexOf('remove') + 1;\n      const dataPathArg = args.find(arg => arg.startsWith('--data='));\n      if (!dataPathArg || idIndex >= args.length) return console.error('Missing --data or id argument');\n      const id = args[idIndex];\n      const dataPath = dataPathArg.slice(7);\n      const store = new TaskStore(dataPath);\n      console.log(JSON.stringify({ ok: true, task: store.remove(id) }));\n    }\n  }\n];\n\nconst helpMessage = `\nUsage:\n  cli list --data <path>\n  cli add <title> --data <path>\n  cli done <id> --data <path>\n  cli remove <id> --data <path>\n`;\n\nfunction main(): void {\n  const args = process.argv.slice(2);\n  if (args.includes('--help')) {\n    console.log(helpMessage);\n    process.exit(0);\n  }\n\n  const command = commands.find(cmd => args.includes(cmd.command));\n  if (command) {\n    try {\n      command.handler(args);\n    } catch (error: any) {\n      console.error(`Error: ${error.message}`);\n      process.exit(1);\n    }\n  } else {\n    console.error('Unknown command. Use --help for more information.');\n    process.exit(1);\n  }\n}\n\nmain();"
    }
  ],
  "notes": "Added usage instructions to README.md and improved error handling in src/cli.ts by checking for the presence of required arguments."
}