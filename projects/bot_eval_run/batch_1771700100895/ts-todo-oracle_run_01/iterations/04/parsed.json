{
  "files": [
    {
      "path": "src/cli.ts",
      "content": "// src/cli.ts\nconst fs = require('fs');\nconst path = require('path');\nconst TaskStore = require('./store');\n\n// Parse command line arguments manually without using commander\nlet dataPath = './tasks.json';\nlet command = process.argv[2];\nlet args = process.argv.slice(3);\n\nif (command === '--data') {\n  dataPath = args[0];\n  command = process.argv[4];\n  args = process.argv.slice(5);\n}\n\nconst taskStore = new TaskStore(dataPath);\ntaskStore.load();\n\nswitch (command) {\n  case 'add':\n    if (args.length > 0) {\n      const title = args.join(' ');\n      const task = taskStore.addTask(title);\n      console.log(`Added task: ${task.title} (ID: ${task.id})`);\n    } else {\n      console.log('Please provide a task title.');\n    }\n    break;\n  case 'list':\n    const tasks = taskStore.listTasks();\n    if (tasks.length === 0) {\n      console.log('No tasks found.');\n    } else {\n      tasks.forEach(task => {\n        console.log(`${task.id}: ${task.title} [${task.done ? 'Done' : 'Pending'}]`);\n      });\n    }\n    break;\n  case 'done':\n    if (args.length > 0) {\n      const id = args[0];\n      taskStore.markTaskDone(id);\n      console.log(`Marked task ${id} as done.`);\n    } else {\n      console.log('Please provide a task ID.');\n    }\n    break;\n  case 'remove':\n    if (args.length > 0) {\n      const id = args[0];\n      taskStore.removeTask(id);\n      console.log(`Removed task ${id}.`);\n    } else {\n      console.log('Please provide a task ID.');\n    }\n    break;\n  default:\n    console.log('Usage: node dist/cli.js [command] [options]');\n    console.log('Commands: add, list, done, remove');\n    console.log('Options: --data <path>');\n}"
    },
    {
      "path": "src/store.ts",
      "content": "// src/store.ts\nconst crypto = require('crypto');\n\nclass TaskStore {\n  constructor(filePath) {\n    this.filePath = filePath;\n    this.tasks = [];\n  }\n\n  load() {\n    try {\n      const data = JSON.parse(fs.readFileSync(this.filePath, 'utf8'));\n      this.tasks = Array.isArray(data) ? data : [];\n    } catch (e) {\n      this.tasks = [];\n    }\n  }\n\n  save() {\n    fs.writeFileSync(this.filePath, JSON.stringify(this.tasks, null, 2));\n  }\n\n  addTask(title) {\n    const task = {\n      id: crypto.randomBytes(16).toString('hex'),\n      title,\n      done: false\n    };\n    this.tasks.push(task);\n    this.save();\n    return task;\n  }\n\n  listTasks() {\n    return this.tasks;\n  }\n\n  markTaskDone(id) {\n    const task = this.tasks.find(t => t.id === id);\n    if (task) {\n      task.done = true;\n      this.save();\n    }\n  }\n\n  removeTask(id) {\n    this.tasks = this.tasks.filter(t => t.id !== id);\n    this.save();\n  }\n}\n\nmodule.exports = TaskStore;"
    }
  ],
  "notes": "Removed commander dependency and manually parsed command line arguments in src/cli.ts. Updated load method in src/store.ts to correctly parse JSON file."
}