{
  "files": [
    {
      "path": "src/cli.ts",
      "content": "const fs = require('node:fs');\nconst path = require('node:path');\nconst crypto = require('node:crypto');\n\nimport { TaskStore } from './store';\n\ndeclare interface Task {\n  id: string;\n  title: string;\n  done: boolean;\n  createdAt: string;\n  doneAt?: string;\n}\n\ndeclare class TaskStore {\n  constructor(filePath: string);\n  list(): Task[];\n  add(title: string): Task;\n  done(id: string): Task;\n  remove(id: string): Task;\n}\n\nfunction help() {\n  console.log(`Usage:\n  add <title> --data <path>\n  list --data <path>\n  done <id> --data <path>\n  remove <id> --data <path>`);\n  process.exit(0);\n}\n\nconst args = process.argv.slice(2);\nif (args.length === 0 || args[0] === '--help') {\n  help();\n}\n\nlet command = args[0];\nlet dataPath: string | undefined;\nlet idOrTitle: string | undefined;\n\nfor (let i = 1; i < args.length; i++) {\n  if (args[i] === '--data') {\n    dataPath = args[i + 1];\n    i++;\n  } else {\n    if (!idOrTitle) {\n      idOrTitle = args[i];\n    }\n  }\n}\n\nif (!dataPath) {\n  console.error('Missing --data option');\n  process.exit(1);\n}\n\nconst taskStore = new TaskStore(dataPath);\n\nswitch (command) {\n  case 'add':\n    if (!idOrTitle) {\n      console.error('Missing title for add command');\n      process.exit(1);\n    }\n    const addedTask = taskStore.add(idOrTitle);\n    console.log(JSON.stringify({ ok: true, task: addedTask }, null, 2));\n    break;\n  case 'list':\n    const tasks = taskStore.list();\n    console.log(JSON.stringify({ ok: true, tasks: tasks }, null, 2));\n    break;\n  case 'done':\n    if (!idOrTitle) {\n      console.error('Missing id for done command');\n      process.exit(1);\n    }\n    const updatedTask = taskStore.done(idOrTitle);\n    console.log(JSON.stringify({ ok: true, task: updatedTask }, null, 2));\n    break;\n  case 'remove':\n    if (!idOrTitle) {\n      console.error('Missing id for remove command');\n      process.exit(1);\n    }\n    const removedTask = taskStore.remove(idOrTitle);\n    console.log(JSON.stringify({ ok: true, task: removedTask }, null, 2));\n    break;\n  default:\n    help();\n}\n"
    }
  ],
  "notes": "Fixed the import statement in src/cli.ts to correctly reference TaskStore."
}