{
  "model": "qwen2.5-coder:14b",
  "created_at": "2026-02-21T17:15:19.8015252Z",
  "message": {
    "role": "assistant",
    "content": "{\n  \"files\": [\n    {\n      \"path\": \"src/cli.ts\",\n      \"content\": \"declare const require: any;\\ndeclare const process: any;\\nconst fs = require('node:fs');\\nimport { TaskStore, Task } from './store';\\n\\nfunction help(): void {\\n  console.log(`\\nTask Manager CLI\\n\\nUsage:\\n- add <title> --data <path>\\n- list --data <path>\\n- done <id> --data <path>\\n- remove <id> --data <path>\\n`);\\n}\\n\\nfunction parseArgs(): { command: string, title?: string, id?: string, filePath: string } {\\n  const args = process.argv.slice(2);\\n  let command = args[0];\\n  let title: string | undefined;\\n  let id: string | undefined;\\n  let filePath: string | undefined;\\n\\n  for (let i = 1; i < args.length; i++) {\\n    if (args[i] === '--data') {\\n      filePath = args[++i];\\n    } else if (!command) {\\n      command = args[i];\\n    } else if (!title && command === 'add') {\\n      title = args[i];\\n    } else if (!id && (command === 'done' || command === 'remove')) {\\n      id = args[i];\\n    }\\n  }\\n\\n  return { command, title, id, filePath: filePath || 'tasks.json' };\\n}\\n\\nfunction main(): void {\\n  const { command, title, id, filePath } = parseArgs();\\n\\n  if (command === '--help') {\\n    help();\\n    return;\\n  }\\n\\n  const taskStore = new TaskStore(filePath);\\n  taskStore.load();\\n\\n  try {\\n    switch (command) {\\n      case 'add':\\n        if (!title) throw new Error('Title is required for add command');\\n        console.log(JSON.stringify(taskStore.add(title)));\\n        break;\\n      case 'list':\\n        const tasks = taskStore.list();\\n        console.log(JSON.stringify(tasks));\\n        break;\\n      case 'done':\\n        if (!id) throw new Error('ID is required for done command');\\n        taskStore.markDone(id);\\n        console.log(`Task ${id} marked as done.`);\\n        break;\\n      case 'remove':\\n        if (!id) throw new Error('ID is required for remove command');\\n        taskStore.remove(id);\\n        console.log(`Task ${id} removed.`);\\n        break;\\n      default:\\n        help();\\n    }\\n  } catch (error) {\\n    console.error(error.message);\\n  }\\n}\\n\\nmain();\"\n    },\n    {\n      \"path\": \"src/store.ts\",\n      \"content\": \"import { v4 as uuidv4 } from 'uuid';\\ndeclare const require: any;\\ndeclare const process: any;\\nconst fs = require('node:fs');\\n\\ntype Task = {\\n  id: string,\\n  title: string,\\n  done: boolean\\n};\\n\\nclass TaskStore {\\n  private tasks: Task[];\\n  private filePath: string;\\n\\n  constructor(filePath: string) {\\n    this.filePath = filePath;\\n    this.tasks = [];\\n  }\\n\\n  load(): void {\\n    try {\\n      const data = fs.readFileSync(this.filePath, 'utf-8');\\n      this.tasks = JSON.parse(data);\\n    } catch (error) {\\n      console.error('Failed to load tasks:', error.message);\\n    }\\n  }\\n\\n  save(): void {\\n    try {\\n      fs.writeFileSync(this.filePath, JSON.stringify(this.tasks, null, 2));\\n    } catch (error) {\\n      console.error('Failed to save tasks:', error.message);\\n    }\\n  }\\n\\n  add(title: string): Task {\\n    const task = { id: uuidv4(), title, done: false };\\n    this.tasks.push(task);\\n    this.save();\\n    return task;\\n  }\\n\\n  list(): Task[] {\\n    return this.tasks;\\n  }\\n\\n  markDone(id: string): void {\\n    const task = this.tasks.find(t => t.id === id);\\n    if (task) {\\n      task.done = true;\\n      this.save();\\n    } else {\\n      throw new Error(`Task with ID ${id} not found`);\\n    }\\n  }\\n\\n  remove(id: string): void {\\n    const index = this.tasks.findIndex(t => t.id === id);\\n    if (index !== -1) {\\n      this.tasks.splice(index, 1);\\n      this.save();\\n    } else {\\n      throw new Error(`Task with ID ${id} not found`);\\n    }\\n  }\\n}\\n\\nexport { TaskStore, Task };\"\n    }\n  ],\n  \"notes\": \"Updated src/cli.ts to handle JSON output for 'add' and 'list' commands. Updated src/store.ts to include a load method and fixed the markDone and remove methods.\"\n}"
  },
  "done": true,
  "done_reason": "stop",
  "total_duration": 37004126500,
  "load_duration": 60848800,
  "prompt_eval_count": 3873,
  "prompt_eval_duration": 980950500,
  "eval_count": 1148,
  "eval_duration": 14495995100
}