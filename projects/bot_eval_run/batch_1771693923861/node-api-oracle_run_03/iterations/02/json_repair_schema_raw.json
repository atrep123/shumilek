{
  "model": "qwen2.5:7b",
  "created_at": "2026-02-21T17:52:15.5274509Z",
  "message": {
    "role": "assistant",
    "content": "{\n  \"files\": [\n    {\n      \"path\": \"src/server.js\",\n      \"content\": \"// src/server.js\\nconst http = require('http');\\nconst fs = require('fs');\\nconst path = require('path');\\nconst crypto = require('crypto');\\n\\nfunction createServer(dataPath) {\\n  const server = http.createServer((req, res) => {\\n    let body = '';\\n    req.on('data', chunk => {\\n      body += chunk.toString();\\n    });\\n    req.on('end', () => {\\n      if (req.method === 'GET' && req.url === '/todos') {\\n        fs.readFile(dataPath, 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            const todos = JSON.parse(data || '[]');\\n            res.writeHead(200, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: true, todos }));\\n          }\\n        });\\n      } else if (req.method === 'POST' && req.url === '/todos') {\\n        const todo = JSON.parse(body);\\n        todo.id = crypto.randomUUID();\\n        todo.createdAt = new Date().toISOString();\\n        fs.readFile(dataPath, 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            const todos = JSON.parse(data || '[]');\\n            todos.push(todo);\\n            fs.writeFile(dataPath, JSON.stringify(todos), (err) => {\\n              if (err) {\\n                res.writeHead(500, { 'Content-Type': 'application/json' });\\n                res.end(JSON.stringify({ ok: false, error: err.message }));\\n              } else {\\n                res.writeHead(201, { 'Content-Type': 'application/json' });\\n                res.end(JSON.stringify({ ok: true, todo }));\\n              }\\n            });\\n          }\\n        });\\n      } else if (req.method === 'GET' && req.url.startsWith('/todos/')) {\\n        const id = path.basename(req.url);\\n        fs.readFile(dataPath, 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            const todos = JSON.parse(data || '[]');\\n            const todo = todos.find(t => t.id === id);\\n            if (todo) {\\n              res.writeHead(200, { 'Content-Type': 'application/json' });\\n              res.end(JSON.stringify({ ok: true, todo }));\\n            } else {\\n              res.writeHead(404, { 'Content-Type': 'application/json' });\\n              res.end(JSON.stringify({ ok: false, error: 'TODO item not found' }));\\n            }\\n          }\\n        });\\n      } else if (req.method === 'PATCH' && req.url.startsWith('/todos/')) {\\n        const id = path.basename(req.url);\\n        const update = JSON.parse(body);\\n        fs.readFile(dataPath, 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            const todos = JSON.parse(data || '[]');\\n            const todoIndex = todos.findIndex(t => t.id === id);\\n            if (todoIndex !== -1) {\\n              const todo = { ...todos[todoIndex], ...update, done: true, doneAt: new Date().toISOString() };\\n              todos[todoIndex] = todo;\\n              fs.writeFile(dataPath, JSON.stringify(todos), (err) => {\\n                if (err) {\\n                  res.writeHead(500, { 'Content-Type': 'application/json' });\\n                  res.end(JSON.stringify({ ok: false, error: err.message }));\\n                } else {\\n                  res.writeHead(200, { 'Content-Type': 'application/json' });\\n                  res.end(JSON.stringify({ ok: true, todo }));\\n                }\\n              });\\n            } else {\\n              res.writeHead(404, { 'Content-Type': 'application/json' });\\n              res.end(JSON.stringify({ ok: false, error: 'TODO item not found' }));\\n            }\\n          }\\n        });\\n      } else if (req.method === 'DELETE' && req.url.startsWith('/todos/')) {\\n        const id = path.basename(req.url);\\n        fs.readFile(dataPath, 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            const todos = JSON.parse(data || '[]');\\n            const todoIndex = todos.findIndex(t => t.id === id);\\n            if (todoIndex !== -1) {\\n              todos.splice(todoIndex, 1);\\n              fs.writeFile(dataPath, JSON.stringify(todos), (err) => {\\n                if (err) {\\n                  res.writeHead(500, { 'Content-Type': 'application/json' });\\n                  res.end(JSON.stringify({ ok: false, error: err.message }));\\n                } else {\\n                  res.writeHead(200, { 'Content-Type': 'application/json' });\\n                  res.end(JSON.stringify({ ok: true }));\\n                }\\n              });\\n            } else {\\n              res.writeHead(404, { 'Content-Type': 'application/json' });\\n              res.end(JSON.stringify({ ok: false, error: 'TODO item not found' }));\\n            }\\n          }\\n        });\\n      } else if (req.method === 'GET' && req.url === '/openapi.json') {\\n        fs.readFile(path.join(__dirname, '../openapi.json'), 'utf8', (err, data) => {\\n          if (err) {\\n            res.writeHead(500, { 'Content-Type': 'application/json' });\\n            res.end(JSON.stringify({ ok: false, error: err.message }));\\n          } else {\\n            res.writeHead(200, { 'Content-Type': 'application/json' });\\n            res.end(data);\\n          }\\n        });\\n      } else {\\n        res.writeHead(404, { 'Content-Type': 'text/plain' });\\n        res.end('Not Found');\\n      }\\n    });\\n  });\\n}\\nmodule.exports = createServer;\"\n    },\n    {\n      \"path\": \"openapi.json\",\n      \"content\": \"{\\\"openapi\\\": \\\"3.0.2\\\", \\\"info\\\": {\\\"title\\\": \\\"TODO API\\\", \\\"version\\\": \\\"1.0.0\\\"}, \\\"paths\\\": {\\\"/todos\\\": {\\\"get\\\": {\\\"summary\\\": \\\"Retrieve all TODO items\\\", \\\"responses\\\": {\\\"200\\\": {\\\"description\\\": \\\"A list of TODO items\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"type\\\": \\\"array\\\", \\\"items\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItem\\\"}}}}}, \\\"404\\\": {\\\"description\\\": \\\"No TODO items found\\\"}}}, \\\"post\\\": {\\\"summary\\\": \\\"Create a new TODO item\\\", \\\"requestBody\\\": {\\\"required\\\": true, \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItemRequest\\\"}}}}, \\\"responses\\\": {\\\"201\\\": {\\\"description\\\": \\\"The created TODO item\\\", \\\"headers\\\": {\\\"Location\\\": {\\\"description\\\": \\\"URL of the newly created TODO item\\\", \\\"schema\\\": {\\\"type\\\": \\\"string\\\"}}}, \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItemResponse\\\"}}}}}}, \\\"/todos/{id}\\\": {\\\"get\\\": {\\\"summary\\\": \\\"Retrieve a specific TODO item by ID\\\", \\\"parameters\\\": [{\\\"name\\\": \\\"id\\\", \\\"in\\\": \\\"path\\\", \\\"required\\\": true, \\\"schema\\\": {\\\"type\\\": \\\"string\\\"}}], \\\"responses\\\": {\\\"200\\\": {\\\"description\\\": \\\"A specific TODO item\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItemResponse\\\"}}}}, \\\"404\\\": {\\\"description\\\": \\\"TODO item not found\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/Error\\\"}}}}}, \\\"patch\\\": {\\\"summary\\\": \\\"Update a specific TODO item by ID\\\", \\\"parameters\\\": [{\\\"name\\\": \\\"id\\\", \\\"in\\\": \\\"path\\\", \\\"required\\\": true, \\\"schema\\\": {\\\"type\\\": \\\"string\\\"}}], \\\"requestBody\\\": {\\\"required\\\": true, \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItemUpdateRequest\\\"}}}}, \\\"responses\\\": {\\\"200\\\": {\\\"description\\\": \\\"The updated TODO item\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/TodoItemResponse\\\"}}}}}, \\\"delete\\\": {\\\"summary\\\": \\\"Delete a specific TODO item by ID\\\", \\\"parameters\\\": [{\\\"name\\\": \\\"id\\\", \\\"in\\\": \\\"path\\\", \\\"required\\\": true, \\\"schema\\\": {\\\"type\\\": \\\"string\\\"}}], \\\"responses\\\": {\\\"204\\\": {\\\"description\\\": \\\"The TODO item has been successfully deleted\\\"}, \\\"404\\\": {\\\"description\\\": \\\"TODO item not found\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/Error\\\"}}}}}}}}, \\\"/todos/{id}/complete\\\": {\\\"patch\\\": {\\\"summary\\\": \\\"Mark a specific TODO item as completed by ID\\\", \\\"parameters\\\": [{\\\"name\\\": \\\"id\\\", \\\"in\\\": \\\"path\\\", \\\"required\\\": true, \\\"schema\\\": {\\\"type\\\": \\\"string\\\"}}], \\\"responses\\\": {\\\"204\\\": {\\\"description\\\": \\\"The TODO item has been marked as completed\\\"}, \\\"404\\\": {\\\"description\\\": \\\"TODO item not found\\\", \\\"content\\\": {\\\"application/json\\\": {\\\"schema\\\": {\\\"$ref\\\": \\\"#/components/schemas/Error\\\"}}}}}}}}, \\\"components"
  },
  "done": true,
  "done_reason": "length",
  "total_duration": 61037780600,
  "load_duration": 63422500,
  "prompt_eval_count": 2600,
  "prompt_eval_duration": 351984000,
  "eval_count": 2400,
  "eval_duration": 15915638300
}