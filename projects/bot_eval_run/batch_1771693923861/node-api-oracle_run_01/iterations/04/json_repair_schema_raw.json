{
  "model": "qwen2.5:7b",
  "created_at": "2026-02-21T17:32:15.1060293Z",
  "message": {
    "role": "assistant",
    "content": "{\n  \"files\": [\n    {\n      \"path\": \"package.json\",\n      \"content\": \"{\\n  \\\"name\\\": \\\"todo-app\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"description\\\": \\\"A simple TODO application\\\",\\n  \\\"main\\\": \\\"index.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"test\\\": \\\"node tests/oracle.test.js\\\"\\n  },\\n  \\\"type\\\": \\\"commonjs\\\",\\n  \\\"dependencies\\\": {}\\n}\"\n    },\n    {\n      \"path\": \"src/server.js\",\n      \"content\": \"'use strict';\\n\\nconst http = require('http');\\nconst fs = require('fs');\\nconst path = require('path');\\nconst crypto = require('crypto');\\nconst url = require('url');\\n\\nfunction createServer({ dataPath }) {\\n  const server = http.createServer((req, res) => {\\n    const parsedUrl = url.parse(req.url, true);\\n    const method = req.method;\\n\\n    if (parsedUrl.pathname === '/health' && method === 'GET') {\\n      res.writeHead(200, { 'Content-Type': 'application/json' });\\n      res.end(JSON.stringify({ ok: true }));\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname === '/openapi.json' && method === 'GET') {\\n      const openApiSpec = JSON.parse(fs.readFileSync(path.join(__dirname, '../openapi.json'), 'utf8'));\\n      res.writeHead(200, { 'Content-Type': 'application/json' });\\n      res.end(JSON.stringify(openApiSpec));\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname === '/todos' && method === 'GET') {\\n      let todos = [];\\n      if (fs.existsSync(dataPath)) {\\n        todos = JSON.parse(fs.readFileSync(dataPath, 'utf8')).todos || [];\\n      }\\n      res.writeHead(200, { 'Content-Type': 'application/json' });\\n      res.end(JSON.stringify({ ok: true, todos }));\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname === '/todos' && method === 'POST') {\\n      let body = '';\\n      req.on('data', chunk => {\\n        body += chunk.toString();\\n      });\\n      req.on('end', () => {\\n        const { title } = JSON.parse(body);\\n        if (!title) {\\n          res.writeHead(400, { 'Content-Type': 'application/json' });\\n          res.end(JSON.stringify({ ok: false, error: 'Title is required' }));\\n          return;\\n        }\\n\\n        const todo = {\\n          id: crypto.randomUUID(),\\n          title,\\n          done: false,\\n          createdAt: new Date().toISOString()\\n        };\\n\\n        let todos = [];\\n        if (fs.existsSync(dataPath)) {\\n          todos = JSON.parse(fs.readFileSync(dataPath, 'utf8')).todos || [];\\n        }\\n        todos.push(todo);\\n        fs.writeFileSync(dataPath, JSON.stringify({ todos }, null, 2));\\n\\n        res.writeHead(201, { 'Content-Type': 'application/json' });\\n        res.end(JSON.stringify({ ok: true, todo }));\\n      });\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname.startsWith('/todos/') && method === 'GET') {\\n      const id = parsedUrl.pathname.split('/')[2];\\n      let todos = [];\\n      if (fs.existsSync(dataPath)) {\\n        todos = JSON.parse(fs.readFileSync(dataPath, 'utf8')).todos || [];\\n      }\\n      const todo = todos.find(t => t.id === id);\\n      if (!todo) {\\n        res.writeHead(404, { 'Content-Type': 'application/json' });\\n        res.end(JSON.stringify({ ok: false, error: 'Todo not found' }));\\n        return;\\n      }\\n\\n      res.writeHead(200, { 'Content-Type': 'application/json' });\\n      res.end(JSON.stringify({ ok: true, todo }));\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname.startsWith('/todos/') && method === 'PUT') {\\n      const id = parsedUrl.pathname.split('/')[2];\\n      let body = '';\\n      req.on('data', chunk => {\\n        body += chunk.toString();\\n      });\\n      req.on('end', () => {\\n        const { title, done } = JSON.parse(body);\\n        if (!title) {\\n          res.writeHead(400, { 'Content-Type': 'application/json' });\\n          res.end(JSON.stringify({ ok: false, error: 'Title is required' }));\\n          return;\\n        }\\n\\n        let todos = [];\\n        if (fs.existsSync(dataPath)) {\\n          todos = JSON.parse(fs.readFileSync(dataPath, 'utf8')).todos || [];\\n        }\\n        const todoIndex = todos.findIndex(t => t.id === id);\\n        if (todoIndex === -1) {\\n          res.writeHead(404, { 'Content-Type': 'application/json' });\\n          res.end(JSON.stringify({ ok: false, error: 'Todo not found' }));\\n          return;\\n        }\\n\\n        todos[todoIndex] = {\\n          ...todos[todoIndex],\\n          title,\\n          done\\n        };\\n        fs.writeFileSync(dataPath, JSON.stringify({ todos }, null, 2));\\n\\n        res.writeHead(200, { 'Content-Type': 'application/json' });\\n        res.end(JSON.stringify({ ok: true, todo: todos[todoIndex] }));\\n      });\\n      return;\\n    }\\n\\n    if (parsedUrl.pathname.startsWith('/todos/') && method === 'DELETE') {\\n      const id = parsedUrl.pathname.split('/')[2];\\n      let todos = [];\\n      if (fs.existsSync(dataPath)) {\\n        todos = JSON.parse(fs.readFileSync(dataPath, 'utf8')).todos || [];\\n      }\\n      const todoIndex = todos.findIndex(t => t.id === id);\\n      if (todoIndex === -1) {\\n        res.writeHead(404, { 'Content-Type': 'application/json' });\\n        res.end(JSON.stringify({ ok: false, error: 'Todo not found' }));\\n        return;\\n      }\\n\\n      todos.splice(todoIndex, 1);\\n      fs.writeFileSync(dataPath, JSON.stringify({ todos }, null, 2));\\n\\n      res.writeHead(200, { 'Content-Type': 'application/json' });\\n      res.end(JSON.stringify({ ok: true }));\\n      return;\\n    }\\n\\n    res.writeHead(404, { 'Content-Type': 'application/json' });\\n    res.end(JSON.stringify({ ok: false, error: 'Not Found' }));\\n  });\\n  return server;\\n}\\n\"\n    },\n    {\n      \"path\": \"openapi.json\",\n      \"content\": \"{\\n  \\\"openapi\\\": \\\"3.0.2\\\",\\n  \\\"info\\\": {\\n    \\\"title\\\": \\\"TODO API\\\",\\n    \\\"version\\\": \\\"1.0.0\\\"\\n  },\\n  \\\"paths\\\": {\\n    \\\"/health\\\": {\\n      \\\"get\\\": {\\n        \\\"summary\\\": \\\"Health check endpoint\\\",\\n        \\\"responses\\\": {\\n          \\\"200\\\": {\\n            \\\"description\\\": \\\"OK\\\",\\n            \\\"content\\\": {\\n              \\\"application/json\\\": {\\n                \\\"schema\\\": {\\n                  \\\"type\\\": \\\"object\\\",\\n                  \\\"properties\\\": {\\n                    \\\"ok\\\": {\\n                      \\\"type\\\": \\\"boolean\\\"\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    },\\n    \\\"/openapi.json\\\": {\\n      \\\"get\\\": {\\n        \\\"summary\\\": \\\"OpenAPI specification\\\",\\n        \\\"responses\\\": {\\n          \\\"200\\\": {\\n            \\\"description\\\": \\\"OK\\\",\\n            \\\"content\\\": {\\n              \\\"application/json\\\": {\\n                \\\"schema\\\": {\\n                  \\\"$ref\\\": \\\"#/components/schemas/OpenAPISpec\\\"\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    },\\n    \\\"/todos\\\": {\\n      \\\"get\\\": {\\n        \\\"summary\\\": \\\"List all todos\\\",\\n        \\\"responses\\\": {\\n          \\\"200\\\": {\\n            \\\"description\\\": \\\"OK\\\",\\n            \\\"content\\\": {\\n              \\\"application/json\\\": {\\n                \\\"schema\\\": {\\n                  \\\"type\\\": \\\"object\\\",\\n                  \\\"properties\\\": {\\n                    \\\"ok\\\": {\\n                      \\\"type\\\": \\\"boolean\\\"\\n                    },\\n                    \\\"todos\\\": {\\n                      \\\"type\\\": \\\"array\\\",\\n                      \\\"items\\\": {\\n                        \\\"$ref\\\": \\\"#/components/schemas/Todo\\\"\\n                      }\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      },\\n      \\\"post\\\": {\\n        \\\"summary\\\": \\\"Create a new todo\\\",\\n        \\\"requestBody\\\": {\\n          \\\"required\\\": true,\\n          \\\"content\\\": {\\n            \\\"application/json\\\": {\\n              \\\"schema\\\": {\\n                \\\"$ref\\\": \\\"#/components/schemas/Todo\\\"\\n              }\\n            }\\n          }\\n        },\\n        \\\"responses\\\": {\\n          \\\"201\\\": {\\n            \\\"description\\\": \\\"Created\\\",\\n            \\\"content\\\": {\\n              \\\"application/json\\\": {\\n                \\\"schema\\\": {\\n                  \\\"type\\\": \\\"object\\\",\\n                  \\\"properties\\\": {\\n                    \\\"ok\\\": {\\n                      \\\"type\\\": \\\"boolean\\\"\\n                    },\\n                    \\\"todo\\\": {\\n                      \\\"$ref\\\": \\\"#/components/schemas/Todo\\\"\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    },\\n    \\\"/todos/{id}\\\": {\\n      \\\"get\\\": {\\n        \\\"summary\\\": \\\"Get a todo by ID\\\",\\n        \\\"parameters\\\": [\\n          {\\n            \\\"name\\\": \\\"id\\\",\\n            \\\"in\\\": \\\"path\\\",\\n            \\\"required\\\": true,\\n            \\\"schema\\\": {\\n              \\\"type\\\": \\\"string\\\"\\n            }\\n          }\\n        ],\\n        \\\"responses\\\": {\\n          \\\"200\\\": {\\n            \\\"description\\\": \\\"OK\\\",\\n            \\\"content\\\": {\\n              \\\"application/json\\\": {\\n                \\\"schema\\\": {\\n                  \\\"type\\\": \\\"object\\\",\\n                  \\\"properties\\\": {\\n                    \\\"ok\\\": {\\n                      \\\"type\\\": \\\"boolean\\\"\\n                    },\\n                    \\\"todo\\\": {\\n                      \\\"$ref\\\": \\\"#/components/schemas/Todo\\\"\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          },\\n          \\\"404\\\": {\\n            \\\"description\\\": \\\"Not Found\\\",\\n            \\\"content"
  },
  "done": true,
  "done_reason": "length",
  "total_duration": 59332282100,
  "load_duration": 62928900,
  "prompt_eval_count": 2599,
  "prompt_eval_duration": 320813100,
  "eval_count": 2400,
  "eval_duration": 15548863200
}