{
  "mode": "patch",
  "files": [
    {
      "path": "src/cli.ts",
      "content": "// src/cli.ts\n\ndeclare const require: any;\nconst fs = require('node:fs');\nconst process = require('process');\nconst { TaskStore } = require('./store.js');\n\nfunction help() {\n  console.log(`Usage:\n  list --data <path>\n  add <title> --data <path>\n  done <id> --data <path>\n  remove <id> --data <path>`);\n  process.exit(0);\n}\n\nif (process.argv.length < 3) {\n  help();\n}\n\nconst command = process.argv[2];\nconst args: { [key: string]: string } = {};\nfor (let i = 3; i < process.argv.length; i++) {\n  const arg = process.argv[i];\n  if (arg.startsWith('--')) {\n    const key = arg.slice(2);\n    const value = process.argv[++i];\n    args[key] = value;\n  }\n}\n\nif (!args.data) {\n  console.error('Missing --data argument');\n  process.exit(1);\n}\n\nconst store = new TaskStore(args.data);\n\nswitch (command) {\n  case 'list':\n    try {\n      const tasks = store.list();\n      console.log(JSON.stringify({ ok: true, tasks }, null, 2));\n    } catch (error) {\n      console.error(JSON.stringify({ ok: false, error: error.message }, null, 2));\n      process.exit(1);\n    }\n    break;\n\n  case 'add':\n    if (!args.title) {\n      console.error('Missing title argument');\n      process.exit(1);\n    }\n    try {\n      const task = store.add(args.title);\n      console.log(JSON.stringify({ ok: true, task }, null, 2));\n    } catch (error) {\n      console.error(JSON.stringify({ ok: false, error: error.message }, null, 2));\n      process.exit(1);\n    }\n    break;\n\n  case 'done':\n    if (!args.id) {\n      console.error('Missing id argument');\n      process.exit(1);\n    }\n    try {\n      const task = store.done(args.id);\n      console.log(JSON.stringify({ ok: true, task }, null, 2));\n    } catch (error) {\n      console.error(JSON.stringify({ ok: false, error: error.message }, null, 2));\n      process.exit(1);\n    }\n    break;\n\n  case 'remove':\n    if (!args.id) {\n      console.error('Missing id argument');\n      process.exit(1);\n    }\n    try {\n      const task = store.remove(args.id);\n      console.log(JSON.stringify({ ok: true, task }, null, 2));\n    } catch (error) {\n      console.error(JSON.stringify({ ok: false, error: error.message }, null, 2));\n      process.exit(1);\n    }\n    break;\n\n  case '--help':\n    help();\n    break;\n\n  default:\n    console.error(`Unknown command: ${command}`);\n    process.exit(1);\n}\n"
    }
  ],
  "notes": "Removed the duplicate declarations of 'require' and 'process' in src/cli.ts to resolve TypeScript errors."
}