{
  "mode": "patch",
  "files": [
    {
      "path": "src/cli.ts",
      "content": "declare const require: any;\ndeclare const process: any;\nconst fs = require('node:fs');\nconst path = require('node:path');\nconst crypto = require('node:crypto');\n\nimport { TaskStore } from './store';\n\ntype Command = 'list' | 'add' | 'done' | 'remove';\n\nfunction help() {\n  console.log(`Usage:\n  node dist/cli.js list --data <path>\n  node dist/cli.js add \"Task title\" --data <path>\n  node dist/cli.js done <id> --data <path>\n  node dist/cli.js remove <id> --data <path>`);\n}\n\nfunction main() {\n  const args = process.argv.slice(2);\n  if (args.includes('--help')) {\n    help();\n    process.exit(0);\n  }\n\n  const command = args[0];\n  const dataPathIndex = args.indexOf('--data');\n  const dataPath = dataPathIndex !== -1 ? args[dataPathIndex + 1] : null;\n\n  if (!command || !dataPath) {\n    help();\n    process.exit(1);\n  }\n\n  const store = new TaskStore(dataPath);\n\n  try {\n    switch (command as Command) {\n      case 'list':\n        console.log(JSON.stringify({ ok: true, tasks: store.list() }));\n        break;\n      case 'add':\n        if (args.length < 2) throw new Error('Title is required');\n        const title = args[1];\n        console.log(JSON.stringify({ ok: true, task: store.add(title) }));\n        break;\n      case 'done':\n        if (args.length < 2) throw new Error('ID is required');\n        const idDone = args[1];\n        console.log(JSON.stringify({ ok: true, task: store.done(idDone) }));\n        break;\n      case 'remove':\n        if (args.length < 2) throw new Error('ID is required');\n        const idRemove = args[1];\n        console.log(JSON.stringify({ ok: true, task: store.remove(idRemove) }));\n        break;\n      default:\n        help();\n        process.exit(1);\n    }\n  } catch (error) {\n    console.error(JSON.stringify({ ok: false, error: error.message }));\n    process.exit(1);\n  }\n}\n\nmain();"
    }
  ],
  "notes": "Removed duplicate declarations of require, process, fs, path, and crypto in src/cli.ts."
}